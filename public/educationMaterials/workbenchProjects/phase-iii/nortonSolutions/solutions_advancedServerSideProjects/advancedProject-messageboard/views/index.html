<!DOCTYPE html>
<html>
  <head>
    <title>Anonymous Message Board - Norton Solutions Portfolio</title>
    <meta name="description" content="FreeCodeCamp Anonymous Message Board Project">
    <link id="favicon" rel="icon" href="https://hyperdev.com/favicon-app.ico" type="image/x-icon">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
  </head>
  <body>
    <div class="container-fluid">
      <header class="bg-warning text-dark p-4 mb-4">
        <h1 class="display-4">
          <i class="bi bi-chat-square-dots"></i> <b>ISQA Project</b> - Anonymous Message Board
        </h1>
        <p class="lead">Norton Solutions FreeCodeCamp Portfolio Project</p>
      </header>
      <div class="row">
        <div class="col-lg-6">
          <div class="card mb-4">
            <div class="card-header bg-info text-white">
              <h2 class="card-title mb-0"><i class="bi bi-list-check"></i> User Stories</h2>
            </div>
            <div class="card-body">
              <ol class="list-group list-group-numbered list-group-flush">
                <li class="list-group-item">Only allow your site to be loading in an iFrame on your own pages.</li>
                <li class="list-group-item">Do not allow DNS prefetching.</li>
                <li class="list-group-item">Only allow your site to send the referrer for your own pages.</li>
                <li class="list-group-item">I can <b>POST</b> a thread to a specific message board by passing form data <code>text</code> and <code>delete_password</code> to <i>/api/threads/{board}</i>.</li>
                <li class="list-group-item">I can <b>POST</b> a reply to a thread on a specific board by passing form data <code>text</code>, <code>delete_password</code>, &amp; <code>thread_id</code> to <i>/api/replies/{board}</i>.</li>
                <li class="list-group-item">I can <b>GET</b> an array of the most recent 10 bumped threads on the board with only the most recent 3 replies from <i>/api/threads/{board}</i>.</li>
                <li class="list-group-item">I can <b>GET</b> an entire thread with all its replies from <i>/api/replies/{board}?thread_id={thread_id}</i>.</li>
                <li class="list-group-item">I can delete a thread completely if I send a <b>DELETE</b> request to <i>/api/threads/{board}</i> and pass along the <code>thread_id</code> &amp; <code>delete_password</code>.</li>
                <li class="list-group-item">I can delete a post (changing text to '[deleted]') if I send a <b>DELETE</b> request to <i>/api/replies/{board}</i>.</li>
                <li class="list-group-item">I can report a thread and change its reported value to true by sending a <b>PUT</b> request to <i>/api/threads/{board}</i>.</li>
                <li class="list-group-item">I can report a reply and change its reported value to true by sending a <b>PUT</b> request to <i>/api/replies/{board}</i>.</li>
                <li class="list-group-item">Complete functional tests that wholly test routes and pass.</li>
              </ol>
              <div class="mt-3 text-center">
                <img src='https://cdn.gomix.com/8f5547a1-a0d6-48f6-aa38-51753a0105f4%2FScreen%20Shot%202017-01-02%20at%201.04.10%20AM.png' class="img-fluid rounded" />
              </div>
              <div class="mt-3 text-center">
                <a href='/en/portfolio/api/messageboard/api/threads/general/' class="btn btn-primary btn-lg">
                  <i class="bi bi-arrow-right-circle"></i> Go to Testing Board - 'general'
                </a>
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-lg-6">
          <div class="card mb-4">
            <div class="card-header bg-success text-white">
              <h2 class="card-title mb-0"><i class="bi bi-gear"></i> API Tests</h2>
            </div>
            <div class="card-body">
              <div class="accordion" id="apiTestsAccordion">
                
                <!-- New Thread Form -->
                <div class="accordion-item">
                  <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#newThreadForm">
                      <i class="bi bi-plus-circle me-2"></i> New Thread (POST /api/threads/:board)
                    </button>
                  </h2>
                  <div id="newThreadForm" class="accordion-collapse collapse show" data-bs-parent="#apiTestsAccordion">
                    <div class="accordion-body">
                      <form action="/api/threads/test" method="post" id="newThread">
                        <div class="mb-3">
                          <input type='text' placeholder='Board name' id='board1' name='board' class="form-control" required>
                        </div>
                        <div class="mb-3">
                          <textarea placeholder='Thread text...' name='text' class="form-control" rows="3" required></textarea>
                        </div>
                        <div class="mb-3">
                          <input type='text' placeholder='Password to delete' name='delete_password' class="form-control" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit</button>
                      </form>
                    </div>
                  </div>
                </div>

                <!-- Report Thread Form -->
                <div class="accordion-item">
                  <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#reportThreadForm">
                      <i class="bi bi-flag me-2"></i> Report Thread (PUT /api/threads/:board)
                    </button>
                  </h2>
                  <div id="reportThreadForm" class="accordion-collapse collapse" data-bs-parent="#apiTestsAccordion">
                    <div class="accordion-body">
                      <form id="reportThread">
                        <div class="mb-3">
                          <input type='text' placeholder='Board name' id='board2' name='board' class="form-control" required>
                        </div>
                        <div class="mb-3">
                          <input type='text' placeholder='Thread ID to report' name='thread_id' class="form-control" required>
                        </div>
                        <button type="submit" class="btn btn-warning">Report</button>
                      </form>
                    </div>
                  </div>
                </div>

                <!-- Delete Thread Form -->
                <div class="accordion-item">
                  <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#deleteThreadForm">
                      <i class="bi bi-trash me-2"></i> Delete Thread (DELETE /api/threads/:board)
                    </button>
                  </h2>
                  <div id="deleteThreadForm" class="accordion-collapse collapse" data-bs-parent="#apiTestsAccordion">
                    <div class="accordion-body">
                      <form id="deleteThread">
                        <div class="mb-3">
                          <input type='text' placeholder='Board name' id='board3' name='board' class="form-control" required>
                        </div>
                        <div class="mb-3">
                          <input type='text' placeholder='Thread ID to delete' name='thread_id' class="form-control" required>
                        </div>
                        <div class="mb-3">
                          <input type='text' placeholder='Password' name='delete_password' class="form-control" required>
                        </div>
                        <button type="submit" class="btn btn-danger">Delete</button>
                      </form>
                    </div>
                  </div>
                </div>

                <!-- New Reply Form -->
                <div class="accordion-item">
                  <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#newReplyForm">
                      <i class="bi bi-reply me-2"></i> New Reply (POST /api/replies/:board)
                    </button>
                  </h2>
                  <div id="newReplyForm" class="accordion-collapse collapse" data-bs-parent="#apiTestsAccordion">
                    <div class="accordion-body">
                      <form action="/api/threads/test" method="post" id="newReply">
                        <div class="mb-3">
                          <input type='text' placeholder='Board name' id='board4' name='board' class="form-control" required>
                        </div>
                        <div class="mb-3">
                          <input type='text' placeholder='Thread ID' name='thread_id' class="form-control" required>
                        </div>
                        <div class="mb-3">
                          <textarea placeholder='Reply text...' name='text' class="form-control" rows="3" required></textarea>
                        </div>
                        <div class="mb-3">
                          <input type='text' placeholder='Password to delete' name='delete_password' class="form-control" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit Reply</button>
                      </form>
                    </div>
                  </div>
                </div>

                <!-- Report Reply Form -->
                <div class="accordion-item">
                  <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#reportReplyForm">
                      <i class="bi bi-flag-fill me-2"></i> Report Reply (PUT /api/replies/:board)
                    </button>
                  </h2>
                  <div id="reportReplyForm" class="accordion-collapse collapse" data-bs-parent="#apiTestsAccordion">
                    <div class="accordion-body">
                      <form id="reportReply">
                        <div class="mb-3">
                          <input type='text' placeholder='Board name' id='board5' name='board' class="form-control" required>
                        </div>
                        <div class="mb-3">
                          <input type='text' placeholder='Thread ID' name='thread_id' class="form-control" required>
                        </div>
                        <div class="mb-3">
                          <input type='text' placeholder='Reply ID to report' name='reply_id' class="form-control" required>
                        </div>
                        <button type="submit" class="btn btn-warning">Report Reply</button>
                      </form>
                    </div>
                  </div>
                </div>

                <!-- Delete Reply Form -->
                <div class="accordion-item">
                  <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#deleteReplyForm">
                      <i class="bi bi-trash-fill me-2"></i> Delete Reply (DELETE /api/replies/:board)
                    </button>
                  </h2>
                  <div id="deleteReplyForm" class="accordion-collapse collapse" data-bs-parent="#apiTestsAccordion">
                    <div class="accordion-body">
                      <form id="deleteReply">
                        <div class="mb-3">
                          <input type='text' placeholder='Board name' id='board6' name='board' class="form-control" required>
                        </div>
                        <div class="mb-3">
                          <input type='text' placeholder='Thread ID' name='thread_id' class="form-control" required>
                        </div>
                        <div class="mb-3">
                          <input type='text' placeholder='Reply ID to delete' name='reply_id' class="form-control" required>
                        </div>
                        <div class="mb-3">
                          <input type='text' placeholder='Password' name='delete_password' class="form-control" required>
                        </div>
                        <button type="submit" class="btn btn-danger">Delete Reply</button>
                      </form>
                    </div>
                  </div>
                </div>
                
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://redrockcode.com/educationMaterials/frameworks/js/jquery/3.3.1/jquery.min.js"
            crossorigin="anonymous"></script>
    <script>
      $(function() {
        $('#newThread').submit(function(){
          var board = $('#board1').val();
          $(this).attr('action', "/en/portfolio/api/messageboard/api/threads/" + board);
        });
        $('#newReply').submit(function(){
          var board = $('#board4').val();
          $(this).attr('action', "/en/portfolio/api/messageboard/api/replies/" + board);
        });
        $('#reportThread').submit(function(e){
          var url = "/en/portfolio/api/messageboard/api/threads/"+$('#board2').val();
          $.ajax({
            type: "PUT",
            url: url,
            data: $(this).serialize(),
            success: function(data)
            {
              alert(data);
            }
          });
          e.preventDefault();
        });
        $('#deleteThread').submit(function(e){
          var url = "/en/portfolio/api/messageboard/api/threads/"+$('#board3').val();
          $.ajax({
            type: "DELETE",
            url: url,
            data: $(this).serialize(),
            success: function(data)
            {
              alert(data);
            }
          });
          e.preventDefault();
        });
        $('#reportReply').submit(function(e){
          var url = "/en/portfolio/api/messageboard/api/replies/"+$('#board5').val();
          $.ajax({
            type: "PUT",
            url: url,
            data: $(this).serialize(),
            success: function(data)
            {
              alert(data);
            }
          });
          e.preventDefault();
        });
        $('#deleteReply').submit(function(e){
          var url = "/en/portfolio/api/messageboard/api/replies/"+$('#board6').val();
          $.ajax({
            type: "DELETE",
            url: url,
            data: $(this).serialize(),
            success: function(data)
            {
              alert(data);
            }
          });
          e.preventDefault();
        });
      });
   </script>
  </body>
</html>
